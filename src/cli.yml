name: saml2aws-auto
version: "0.1.5"
author: Jan Christophersen <jan@ruken.pw>
about: A wrapper around saml2aws allowing you to refresh multiple AWS credentials at the same time
settings:
- SubcommandRequiredElseHelp 
args:
- config:
    short: c
    long: config
    value_name: FILE
    help: Sets a custom config file
    takes_value: true
- verbose:
    short: v
    multiple: true
    help: Sets the level of verbosity
subcommands:
- refresh:
    about: Refreshes all credentials for a group
    args:
    - username:
        long: username
        help: IDP Username
        takes_value: true
    - password:
        long: password
        help: IDP Password
        takes_value: true
    - mfa:
        long: mfa
        takes_value: true
        help: MFA Token
    - GROUP:
        required: true
        index: 1
        takes_value: true
        help: Group Name
- groups:
    about: Manage role groups
    settings:
    - SubcommandRequiredElseHelp 
    subcommands:
    - list:
        about: Lists all configured groups
    - delete:
        about: Deletes a group
        args:
        - GROUP:
            help: Group Name
            index: 1
            required: true
            takes_value: true
    - add:
        about: Adds a group with one or more roles
        args:
        - role:
            long: role
            required: true
            takes_value: true
            help: Role to assume (e.g. Administrator)
        - NAME:
            takes_value: true
            required: true
            help: Name of the group
        - business_unit:
            long: business-unit
            help: Uses the BusinessUnit of your AWS accounts as a group, e.g. my-unit when having accounts my-unit-dev, my-unit-int, ...
            takes_value: true
        - session_duration:
            long: session-duration
            help: The session duration when refreshing tokens. Maximum is defined in the AWS Role
            takes_value: true
        - accounts:
            long: accounts
            help: AWS Account Name
            use_delimiter: true
            takes_value: true
        - password:
            long: password
            help: IDP Password
            takes_value: true
        - mfa:
            long: mfa
            required: true
            takes_value: true
            help: MFA token
